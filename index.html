<!DOCTYPE html>
<html lang="vn">
<head>
    <meta charset="UTF-8">
    <title>Công cụ lập kế hoạch hưu trí</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <h1>Công cụ lập kế hoạch hưu trí</h1>
        <form id="calculator-form">
            <div class="form-group">
                <label for="monthly-expenditures">Chi tiêu hàng tháng (VND):</label>
                <input type="text" id="monthly-expenditures" required placeholder="Nhập số tiền...">
            </div>
            <div class="form-group">
                <label for="monthly-income">Thu nhập hàng tháng (VND):</label>
                <input type="text" id="monthly-income" required placeholder="Nhập số tiền...">
            </div>
            <div class="form-group">
                <label for="savings-rate">Tỷ lệ tiết kiệm đầu tư (%):</label>
                <input type="number" id="savings-rate" required placeholder="Nhập tỷ lệ...">
            </div>
            <div class="form-group">
                <label for="initial-balance">Số dư ban đầu (VND):</label>
                <input type="text" id="initial-balance" required placeholder="Nhập số tiền...">
            </div>
            <div class="form-group">
                <label for="income-increase-type">Tăng thu nhập hàng tháng bằng:</label>
                <select id="income-increase-type" onchange="toggleIncomeIncreaseFields()">
                    <option value="fixed">Số tiền cố định từ năm</option>
                    <option value="percentage">Phần trăm hàng năm</option>
                </select>
            </div>
            <div id="fixed-income-increase-fields">
                <div class="form-group">
                    <label for="new-monthly-income">Thu nhập hàng tháng mới (VND):</label>
                    <input type="text" id="new-monthly-income" placeholder="Nhập số tiền...">
                </div>
                <div class="form-group">
                    <label for="income-increase-year">Năm tăng thu nhập:</label>
                    <input type="number" id="income-increase-year" placeholder="Nhập năm...">
                </div>
            </div>
            <div class="form-group" id="percentage-increase-group" style="display: none;">
                <label for="annual-percentage-increase">Tăng trưởng hàng năm (%):</label>
                <input type="number" id="annual-percentage-increase" placeholder="Nhập tỷ lệ...">
            </div>
            <button type="button" id="calculate">Tính toán mục tiêu hưu trí</button>
        </form>
        <div id="result"></div>
        <div class="chart-container">
            <canvas id="savingsChart"></canvas>
        </div>
        <div class="footnote">
            <p><strong>Những giả định của phép tính:</strong></p>
            <ul>
                <li>Tỷ lệ tăng trưởng hàng năm cho tài khoản tiết kiệm là 7.2%</li>
                <li>Tỷ lệ tăng trưởng hàng năm cho tài khoản đầu tư là 14.3%</li>
                <li>Lạm phát hàng năm dự kiến là 6.2%.</li>
                <li>Số dư ban đầu và tiết kiệm hàng tháng sẽ đóng góp vào mục tiêu hưu trí, được tính toán dựa trên lãi suất kép.</li>
            </ul>
        </div>
    </div>
    <script>
        // Function to toggle visibility of income increase fields based on selection
        function toggleIncomeIncreaseFields() {
            var incomeIncreaseType = document.getElementById('income-increase-type').value;
            var fixedIncomeIncreaseFields = document.getElementById('fixed-income-increase-fields');
            var percentageIncreaseGroup = document.getElementById('percentage-increase-group');
            
            if (incomeIncreaseType === 'percentage') {
                fixedIncomeIncreaseFields.style.display = 'none';
                percentageIncreaseGroup.style.display = 'block';
            } else {
                fixedIncomeIncreaseFields.style.display = 'block';
                percentageIncreaseGroup.style.display = 'none';
            }
        }
        // Initialize the form fields based on default selection
        document.addEventListener('DOMContentLoaded', toggleIncomeIncreaseFields);
    </script>
    <script src="script.js"></script>
</body>
</html>
